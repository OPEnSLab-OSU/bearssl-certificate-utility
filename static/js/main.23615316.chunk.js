(this["webpackJsonpbearssl-certificate-utility"]=this["webpackJsonpbearssl-certificate-utility"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(6),o=n.n(r),s=(n(12),n(1)),c=n(2),l=n(4),u=n(3),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var n={};n[t.target.id]=t.target.value,e.props.onChange(n)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=Object.entries(this.props.inputs).map((function(t,n){return i.a.createElement("div",{key:t[0]},i.a.createElement("label",{htmlFor:t[0]},e.props.descriptions[n]||t[0]),i.a.createElement("input",{id:t[0],type:"text",value:t[1],onChange:e.handleChange}))}));return this.props.legend?i.a.createElement("fieldset",null,i.a.createElement("legend",null,this.props.legend),t):i.a.createElement("div",null,t)}}]),n}(i.a.Component),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).click_index=void 0,a.input_error=void 0,a.state={header:null,error:null},a.click_index=a.props.click_index,a.input_error=null,a}return Object(c.a)(n,[{key:"fetchHeaderForDomains",value:function(){var e=this;if(this.props.domains.length<=0)return Promise.resolve();var t=this.props.domains.map((function(e){return"domain=".concat(e)})).concat(Object.entries(this.props.options).map((function(e){return"".concat(e[0],"=").concat(e[1])}))).join("&"),n="https://certutil.prototypical.pro/getheader?".concat(t);return fetch(n).then((function(e){return e.json()})).catch((function(t){console.error(t),e.setState({header:null,error:t.message})})).then((function(t){e.setState({header:t,error:null})}))}},{key:"render",value:function(){return this.props.click_index===this.click_index||(this.click_index=this.props.click_index,this.input_error=null,this.props.domains&&0!==this.props.domains.length||(this.input_error="Please add at least one valid domain!"),this.props.options&&!Object.values(this.props.options).some((function(e){return!e}))||(this.input_error="Please input non-emptey header options."),Object.values(this.props.options).some((function(e){return!!e.match(/\s|-/)}))&&(this.input_error="Varible names cannot contain dashes or spaces."),this.input_error)?this.input_error?n.msgDiv(this.input_error):this.state.error?n.msgDiv("Error: ".concat(this.state.error)):this.state.header?i.a.createElement("div",null,i.a.createElement("p",null,this.state.header.invalid_domains.length>0?"Invalid Domains: ".concat(this.state.header.invalid_domains.join(", ")):null,i.a.createElement("br",null)),i.a.createElement("textarea",{rows:(this.state.header.header.match(/\n/g)||"").length+5,cols:80,readOnly:!0,value:this.state.header.header})):n.msgDiv("Please add some domains, and click submit!"):(this.fetchHeaderForDomains(),n.msgDiv("Generating header..."))}}],[{key:"msgDiv",value:function(e){return i.a.createElement("div",null,i.a.createElement("p",{className:"msg"},e))}}]),n}(i.a.Component),p=(n(13),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={domain_input:{domain:"www.google.com, www.amazon.com"},valid_domains:["www.google.com","www.amazon.com"],options:{array_name:"TAs",length_name:"TAs_NUM",guard_name:"CERTIFICATES"},submit_count:0},a}return Object(c.a)(n,[{key:"onSubmit",value:function(e){this.setState((function(e){return{submit_count:e.submit_count+1}})),e.preventDefault()}},{key:"onOptionsChange",value:function(e){this.setState({options:Object.assign({},this.state.options,e)})}},{key:"onDomainChange",value:function(e){this.setState({domain_input:e,valid_domains:e.domain.split(",").map((function(e){return e.trim()})).filter((function(e){return n.validateDomain(e)}))})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},i.a.createElement(h,{inputs:this.state.domain_input,descriptions:["Domains To Include"],onChange:this.onDomainChange.bind(this)}),i.a.createElement(h,{legend:"Header Customization Options",inputs:this.state.options,descriptions:["Name For Trust Anchor Array Varible","Name For Array Length Varible","Name For The Header Guard (Usually Caps)"],onChange:this.onOptionsChange.bind(this)}),i.a.createElement("input",{type:"submit",value:"Submit"})),i.a.createElement("p",null,"Domains: ".concat(this.state.valid_domains.join(", "))),i.a.createElement(m,{click_index:this.state.submit_count,domains:this.state.valid_domains,options:this.state.options}))}}],[{key:"validateDomain",value:function(e){return e.length>0&&e.length<=255&&!!/^((?:(?:(?:\w[.\-+]?)*)\w)+)((?:(?:(?:\w[.\-+]?){0,62})\w)+)\.(\w{2,6})$/.exec(e)}}]),n}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.23615316.chunk.js.map